{"ast":null,"code":"import * as i0 from \"@angular/core\";\nimport * as i1 from \"src/app/services/periodo-actualizacion.service\";\nimport * as i2 from \"@angular/common\";\nexport class DateAdminComponent {\n  constructor(periodoService) {\n    this.periodoService = periodoService;\n    this.fechaActual = new Date();\n    this.fechaActualización = new Date();\n    this.tiempoRestanteAct = {};\n    this.dateText = '';\n    this.calcularDiasRestantes();\n  }\n  calcularDiasRestantes() {\n    const fechaActual = new Date();\n    this.periodoService.getPeriodosActualizacion().subscribe(response => {\n      this.fechaActualización = response[0].fch_Fin;\n      console.log(\"fecha Actualizacion \", this.fechaActualización);\n    });\n    const tiempoRestante = this.fechaActualización.getTime() - fechaActual.getTime();\n    this.tiempoRestanteAct.dias = Math.floor(tiempoRestante / (1000 * 60 * 60 * 24));\n    this.tiempoRestanteAct.horas = Math.floor(tiempoRestante % (1000 * 60 * 60 * 24) / (1000 * 60 * 60));\n    this.tiempoRestanteAct.minutos = Math.floor(tiempoRestante % (1000 * 60 * 60) / (1000 * 60));\n    if (this.tiempoRestanteAct.dias < 0) {\n      this.dateText += 'La fecha de actualización ha vencido';\n    } else {\n      this.dateText += 'Faltan: ' + this.tiempoRestanteAct.dias + 'días,' + this.tiempoRestanteAct.horas + ' horas y ' + this.tiempoRestanteAct.minutos + ' minutos para que el periodo de actualización finalice';\n    }\n  }\n  static #_ = this.ɵfac = function DateAdminComponent_Factory(t) {\n    return new (t || DateAdminComponent)(i0.ɵɵdirectiveInject(i1.PeriodoActualizacionService));\n  };\n  static #_2 = this.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n    type: DateAdminComponent,\n    selectors: [[\"app-date-admin\"]],\n    decls: 12,\n    vars: 5,\n    consts: [[1, \"fondo\"], [1, \"container\", \"cont-date\", \"rounded\", \"shadow-sm\"], [1, \"row\"], [1, \"col\"], [1, \"display-6\"], [1, \"col-10\"]],\n    template: function DateAdminComponent_Template(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵelementStart(0, \"div\", 0)(1, \"div\", 1)(2, \"div\", 2)(3, \"div\", 3)(4, \"h1\", 4);\n        i0.ɵɵtext(5);\n        i0.ɵɵpipe(6, \"date\");\n        i0.ɵɵelementEnd()()();\n        i0.ɵɵelement(7, \"hr\");\n        i0.ɵɵelementStart(8, \"div\", 2)(9, \"div\", 5)(10, \"p\");\n        i0.ɵɵtext(11);\n        i0.ɵɵelementEnd()()()()();\n      }\n      if (rf & 2) {\n        i0.ɵɵadvance(5);\n        i0.ɵɵtextInterpolate1(\"\", i0.ɵɵpipeBind2(6, 2, ctx.fechaActual, \"medium\"), \" \");\n        i0.ɵɵadvance(6);\n        i0.ɵɵtextInterpolate(ctx.dateText);\n      }\n    },\n    dependencies: [i2.DatePipe],\n    styles: [\".cont-date[_ngcontent-%COMP%] {\\n    background-color: whitesmoke;\\n    height: 100%;\\n    padding: 10px;\\n}\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8uL3NyYy9hcHAvY29tcG9uZW50cy9kYXRlLWFkbWluL2RhdGUtYWRtaW4uY29tcG9uZW50LmNzcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtJQUNJLDRCQUE0QjtJQUM1QixZQUFZO0lBQ1osYUFBYTtBQUNqQiIsInNvdXJjZXNDb250ZW50IjpbIi5jb250LWRhdGUge1xyXG4gICAgYmFja2dyb3VuZC1jb2xvcjogd2hpdGVzbW9rZTtcclxuICAgIGhlaWdodDogMTAwJTtcclxuICAgIHBhZGRpbmc6IDEwcHg7XHJcbn0iXSwic291cmNlUm9vdCI6IiJ9 */\"]\n  });\n}","map":{"version":3,"names":["DateAdminComponent","constructor","periodoService","fechaActual","Date","fechaActualización","tiempoRestanteAct","dateText","calcularDiasRestantes","getPeriodosActualizacion","subscribe","response","fch_Fin","console","log","tiempoRestante","getTime","dias","Math","floor","horas","minutos","_","i0","ɵɵdirectiveInject","i1","PeriodoActualizacionService","_2","selectors","decls","vars","consts","template","DateAdminComponent_Template","rf","ctx","ɵɵelementStart","ɵɵtext","ɵɵelementEnd","ɵɵelement","ɵɵadvance","ɵɵtextInterpolate1","ɵɵpipeBind2","ɵɵtextInterpolate"],"sources":["C:\\Users\\USUARIO\\Escritorio\\UCU\\BASES DE DATOS 1\\ULTIMA VERSION OBLIGATORIO DEFINITIVA\\Obligatorio-BDD\\proyecto-angular\\src\\app\\components\\date-admin\\date-admin.component.ts","C:\\Users\\USUARIO\\Escritorio\\UCU\\BASES DE DATOS 1\\ULTIMA VERSION OBLIGATORIO DEFINITIVA\\Obligatorio-BDD\\proyecto-angular\\src\\app\\components\\date-admin\\date-admin.component.html"],"sourcesContent":["import { Component } from '@angular/core';\r\nimport { PeriodoActualizacionService } from 'src/app/services/periodo-actualizacion.service';\r\n\r\n\r\n@Component({\r\n  selector: 'app-date-admin',\r\n  templateUrl: './date-admin.component.html',\r\n  styleUrls: ['./date-admin.component.css']\r\n})\r\nexport class DateAdminComponent {\r\n  fechaActual: Date = new Date();\r\n  fechaActualización: Date = new Date();\r\n  tiempoRestanteAct: any = {};\r\n  dateText = '';\r\n\r\n  constructor(private periodoService: PeriodoActualizacionService) {\r\n    this.calcularDiasRestantes();\r\n  }\r\n\r\n  calcularDiasRestantes() {\r\n\r\n    const fechaActual: Date = new Date();\r\n    this.periodoService.getPeriodosActualizacion().subscribe(\r\n      (response: any) => {\r\n        this.fechaActualización = response[0].fch_Fin;\r\n        console.log(\"fecha Actualizacion \", this.fechaActualización);\r\n      }\r\n    )\r\n    const tiempoRestante = this.fechaActualización.getTime() - fechaActual.getTime();\r\n    this.tiempoRestanteAct.dias = Math.floor(tiempoRestante / (1000 * 60 * 60 * 24));\r\n    this.tiempoRestanteAct.horas = Math.floor((tiempoRestante % (1000 * 60 * 60 * 24)) / (1000 * 60 * 60));\r\n    this.tiempoRestanteAct.minutos = Math.floor((tiempoRestante % (1000 * 60 * 60)) / (1000 * 60));\r\n    if (this.tiempoRestanteAct.dias < 0) {\r\n      this.dateText += 'La fecha de actualización ha vencido';\r\n    } else {\r\n      this.dateText += 'Faltan: ' + this.tiempoRestanteAct.dias + 'días,' + this.tiempoRestanteAct.horas + ' horas y ' + this.tiempoRestanteAct.minutos + ' minutos para que el periodo de actualización finalice'\r\n    }\r\n  }\r\n}","<div class=\"fondo\">\r\n    <div class=\"container cont-date rounded shadow-sm\">\r\n        <div class=\"row\">\r\n            <div class=\"col\">\r\n                <h1 class=\"display-6\">{{ fechaActual | date:'medium' }} </h1>\r\n            </div>\r\n        </div>\r\n        <hr>\r\n        <div class=\"row\">\r\n            <div class=\"col-10\">\r\n                <p>{{dateText}}</p>\r\n            </div>\r\n        </div>\r\n    </div>\r\n</div>"],"mappings":";;;AASA,OAAM,MAAOA,kBAAkB;EAM7BC,YAAoBC,cAA2C;IAA3C,KAAAA,cAAc,GAAdA,cAAc;IALlC,KAAAC,WAAW,GAAS,IAAIC,IAAI,EAAE;IAC9B,KAAAC,kBAAkB,GAAS,IAAID,IAAI,EAAE;IACrC,KAAAE,iBAAiB,GAAQ,EAAE;IAC3B,KAAAC,QAAQ,GAAG,EAAE;IAGX,IAAI,CAACC,qBAAqB,EAAE;EAC9B;EAEAA,qBAAqBA,CAAA;IAEnB,MAAML,WAAW,GAAS,IAAIC,IAAI,EAAE;IACpC,IAAI,CAACF,cAAc,CAACO,wBAAwB,EAAE,CAACC,SAAS,CACrDC,QAAa,IAAI;MAChB,IAAI,CAACN,kBAAkB,GAAGM,QAAQ,CAAC,CAAC,CAAC,CAACC,OAAO;MAC7CC,OAAO,CAACC,GAAG,CAAC,sBAAsB,EAAE,IAAI,CAACT,kBAAkB,CAAC;IAC9D,CAAC,CACF;IACD,MAAMU,cAAc,GAAG,IAAI,CAACV,kBAAkB,CAACW,OAAO,EAAE,GAAGb,WAAW,CAACa,OAAO,EAAE;IAChF,IAAI,CAACV,iBAAiB,CAACW,IAAI,GAAGC,IAAI,CAACC,KAAK,CAACJ,cAAc,IAAI,IAAI,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE,CAAC,CAAC;IAChF,IAAI,CAACT,iBAAiB,CAACc,KAAK,GAAGF,IAAI,CAACC,KAAK,CAAEJ,cAAc,IAAI,IAAI,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE,CAAC,IAAK,IAAI,GAAG,EAAE,GAAG,EAAE,CAAC,CAAC;IACtG,IAAI,CAACT,iBAAiB,CAACe,OAAO,GAAGH,IAAI,CAACC,KAAK,CAAEJ,cAAc,IAAI,IAAI,GAAG,EAAE,GAAG,EAAE,CAAC,IAAK,IAAI,GAAG,EAAE,CAAC,CAAC;IAC9F,IAAI,IAAI,CAACT,iBAAiB,CAACW,IAAI,GAAG,CAAC,EAAE;MACnC,IAAI,CAACV,QAAQ,IAAI,sCAAsC;KACxD,MAAM;MACL,IAAI,CAACA,QAAQ,IAAI,UAAU,GAAG,IAAI,CAACD,iBAAiB,CAACW,IAAI,GAAG,OAAO,GAAG,IAAI,CAACX,iBAAiB,CAACc,KAAK,GAAG,WAAW,GAAG,IAAI,CAACd,iBAAiB,CAACe,OAAO,GAAG,wDAAwD;;EAEhN;EAAC,QAAAC,CAAA,G;qBA5BUtB,kBAAkB,EAAAuB,EAAA,CAAAC,iBAAA,CAAAC,EAAA,CAAAC,2BAAA;EAAA;EAAA,QAAAC,EAAA,G;UAAlB3B,kBAAkB;IAAA4B,SAAA;IAAAC,KAAA;IAAAC,IAAA;IAAAC,MAAA;IAAAC,QAAA,WAAAC,4BAAAC,EAAA,EAAAC,GAAA;MAAA,IAAAD,EAAA;QCT/BX,EAAA,CAAAa,cAAA,aAAmB;QAImBb,EAAA,CAAAc,MAAA,GAAkC;;QAAAd,EAAA,CAAAe,YAAA,EAAK;QAGrEf,EAAA,CAAAgB,SAAA,SAAI;QACJhB,EAAA,CAAAa,cAAA,aAAiB;QAENb,EAAA,CAAAc,MAAA,IAAY;QAAAd,EAAA,CAAAe,YAAA,EAAI;;;QANGf,EAAA,CAAAiB,SAAA,GAAkC;QAAlCjB,EAAA,CAAAkB,kBAAA,KAAAlB,EAAA,CAAAmB,WAAA,OAAAP,GAAA,CAAAhC,WAAA,iBAAkC;QAMrDoB,EAAA,CAAAiB,SAAA,GAAY;QAAZjB,EAAA,CAAAoB,iBAAA,CAAAR,GAAA,CAAA5B,QAAA,CAAY"},"metadata":{},"sourceType":"module","externalDependencies":[]}