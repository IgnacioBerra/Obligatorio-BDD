{"ast":null,"code":"import { __decorate } from \"tslib\";\nimport { Component } from '@angular/core';\nexport let AgendaFormComponent = class AgendaFormComponent {\n  constructor(agendaService, router, _location, route) {\n    this.agendaService = agendaService;\n    this.router = router;\n    this._location = _location;\n    this.route = route;\n    this.fecha = '';\n    this.ci = null;\n    this.router.params.subscribe(params => {\n      this.logId = +params['logId'];\n      console.log(typeof this.logId);\n    });\n  }\n  enviarAgenda() {\n    if (this.fecha != '' && this.ci != null) {\n      const fch_Agenda = new Date(this.fecha).toISOString();\n      let agenda = {\n        ci: this.ci,\n        fch_Agenda: fch_Agenda\n      };\n      this.agendaService.addAgenda(agenda).subscribe(response => {\n        this.router.navigate(['/login']);\n        console.log(\"enviada\");\n      }, error => {\n        console.error('Error:', error);\n        console.log(error.error);\n      });\n    }\n  }\n  goBack() {\n    this._location.back();\n  }\n};\nAgendaFormComponent = __decorate([Component({\n  selector: 'app-agenda-form',\n  templateUrl: './agenda-form.component.html',\n  styleUrls: ['./agenda-form.component.css']\n})], AgendaFormComponent);","map":{"version":3,"names":["Component","AgendaFormComponent","constructor","agendaService","router","_location","route","fecha","ci","params","subscribe","logId","console","log","enviarAgenda","fch_Agenda","Date","toISOString","agenda","addAgenda","response","navigate","error","goBack","back","__decorate","selector","templateUrl","styleUrls"],"sources":["C:\\Users\\USUARIO\\Escritorio\\UCU\\BASES DE DATOS 1\\ULTIMA VERSION OBLIGATORIO DEFINITIVA\\Obligatorio-BDD\\proyecto-angular\\src\\app\\components\\agenda-form\\agenda-form.component.ts"],"sourcesContent":["import { Component } from '@angular/core';\r\nimport { Router } from '@angular/router';\r\nimport { Agenda } from 'src/app/interfaces/agenda';\r\nimport { AgendaService } from 'src/app/services/agenda.service';\r\nimport {Location} from '@angular/common';\r\n\r\n@Component({\r\n  selector: 'app-agenda-form',\r\n  templateUrl: './agenda-form.component.html',\r\n  styleUrls: ['./agenda-form.component.css']\r\n})\r\nexport class AgendaFormComponent {\r\n  fecha = '';\r\n  ci: number | null = null;\r\n\r\n  constructor(private agendaService: AgendaService, private router: Router, private _location: Location, private route: ActivatedRoute,){\r\n    this.router.params.subscribe(params => {\r\n      this.logId = +params['logId'];     \r\n      console.log(typeof this.logId) \r\n    });\r\n  }\r\n\r\n  enviarAgenda(){\r\n    if(this.fecha != '' && this.ci != null){\r\n      const fch_Agenda = new Date(this.fecha).toISOString();\r\n      \r\n      let agenda: Agenda = {\r\n        ci: this.ci,\r\n        fch_Agenda: fch_Agenda\r\n      }\r\n      \r\n      this.agendaService.addAgenda(agenda).subscribe(\r\n        (response: any) => {\r\n          this.router.navigate(['/login']);\r\n          console.log(\"enviada\");\r\n        },\r\n        (error: any) => {\r\n          console.error('Error:', error);\r\n          console.log(error.error);\r\n        }\r\n      );\r\n    }\r\n  }\r\n\r\n  goBack(): void{\r\n    this._location.back();\r\n  }\r\n}"],"mappings":";AAAA,SAASA,SAAS,QAAQ,eAAe;AAWlC,WAAMC,mBAAmB,GAAzB,MAAMA,mBAAmB;EAI9BC,YAAoBC,aAA4B,EAAUC,MAAc,EAAUC,SAAmB,EAAUC,KAAqB;IAAhH,KAAAH,aAAa,GAAbA,aAAa;IAAyB,KAAAC,MAAM,GAANA,MAAM;IAAkB,KAAAC,SAAS,GAATA,SAAS;IAAoB,KAAAC,KAAK,GAALA,KAAK;IAHpH,KAAAC,KAAK,GAAG,EAAE;IACV,KAAAC,EAAE,GAAkB,IAAI;IAGtB,IAAI,CAACJ,MAAM,CAACK,MAAM,CAACC,SAAS,CAACD,MAAM,IAAG;MACpC,IAAI,CAACE,KAAK,GAAG,CAACF,MAAM,CAAC,OAAO,CAAC;MAC7BG,OAAO,CAACC,GAAG,CAAC,OAAO,IAAI,CAACF,KAAK,CAAC;IAChC,CAAC,CAAC;EACJ;EAEAG,YAAYA,CAAA;IACV,IAAG,IAAI,CAACP,KAAK,IAAI,EAAE,IAAI,IAAI,CAACC,EAAE,IAAI,IAAI,EAAC;MACrC,MAAMO,UAAU,GAAG,IAAIC,IAAI,CAAC,IAAI,CAACT,KAAK,CAAC,CAACU,WAAW,EAAE;MAErD,IAAIC,MAAM,GAAW;QACnBV,EAAE,EAAE,IAAI,CAACA,EAAE;QACXO,UAAU,EAAEA;OACb;MAED,IAAI,CAACZ,aAAa,CAACgB,SAAS,CAACD,MAAM,CAAC,CAACR,SAAS,CAC3CU,QAAa,IAAI;QAChB,IAAI,CAAChB,MAAM,CAACiB,QAAQ,CAAC,CAAC,QAAQ,CAAC,CAAC;QAChCT,OAAO,CAACC,GAAG,CAAC,SAAS,CAAC;MACxB,CAAC,EACAS,KAAU,IAAI;QACbV,OAAO,CAACU,KAAK,CAAC,QAAQ,EAAEA,KAAK,CAAC;QAC9BV,OAAO,CAACC,GAAG,CAACS,KAAK,CAACA,KAAK,CAAC;MAC1B,CAAC,CACF;;EAEL;EAEAC,MAAMA,CAAA;IACJ,IAAI,CAAClB,SAAS,CAACmB,IAAI,EAAE;EACvB;CACD;AApCYvB,mBAAmB,GAAAwB,UAAA,EAL/BzB,SAAS,CAAC;EACT0B,QAAQ,EAAE,iBAAiB;EAC3BC,WAAW,EAAE,8BAA8B;EAC3CC,SAAS,EAAE,CAAC,6BAA6B;CAC1C,CAAC,C,EACW3B,mBAAmB,CAoC/B"},"metadata":{},"sourceType":"module","externalDependencies":[]}