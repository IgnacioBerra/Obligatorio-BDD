{"ast":null,"code":"import * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/common\";\nimport * as i2 from \"@angular/router\";\nimport * as i3 from \"src/app/services/carnet-salud.service\";\nimport * as i4 from \"@angular/forms\";\nexport class FormCarneSaludComponent {\n  constructor(_location, route, router, carnetService) {\n    this._location = _location;\n    this.route = route;\n    this.router = router;\n    this.carnetService = carnetService;\n    this.urlImg = \"\";\n    this.ci = 0;\n    this.fechaVencimiento = \"\";\n    this.route.params.subscribe(params => {\n      this.ci = +params['ci'];\n    });\n  }\n  onFileSelected(event) {\n    const inputElement = event.target;\n    if (inputElement.files.length > 0) {\n      const selectedFile = inputElement.files[0];\n      const fileName = selectedFile.name;\n      console.log('Archivo seleccionado:', fileName);\n      this.urlImg = URL.createObjectURL(selectedFile);\n      console.log('Ruta completa del archivo:', this.urlImg);\n    }\n  }\n  enviar() {\n    let carnet = {\n      CI: this.ci,\n      fechaEmision: Date.now().toString(),\n      fechaVencimiento: new Date(this.fechaVencimiento).toISOString(),\n      Comprobante: this.urlImg\n    };\n    this.carnetService.AñadirCarnetSalud(carnet).subscribe(response => {\n      alert(\"Se ha añadido con exito su carnet de salud.\");\n      this.router.navigate([`/`], {\n        relativeTo: this.route\n      });\n    }, error => {\n      console.error('Error en la solicitud POST:', error);\n    });\n  }\n  goBack() {\n    this._location.back();\n  }\n  static #_ = this.ɵfac = function FormCarneSaludComponent_Factory(t) {\n    return new (t || FormCarneSaludComponent)(i0.ɵɵdirectiveInject(i1.Location), i0.ɵɵdirectiveInject(i2.ActivatedRoute), i0.ɵɵdirectiveInject(i2.Router), i0.ɵɵdirectiveInject(i3.CarnetSaludService));\n  };\n  static #_2 = this.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n    type: FormCarneSaludComponent,\n    selectors: [[\"app-form-carne-salud\"]],\n    decls: 34,\n    vars: 1,\n    consts: [[1, \"fondo\"], [1, \"container\"], [1, \"row\", \"justify-content-center\"], [1, \"col-6\", \"content-form\", \"rounded\", \"shadow\"], [1, \"row\"], [1, \"col\"], [3, \"click\"], [\"xmlns\", \"http://www.w3.org/2000/svg\", \"width\", \"18\", \"height\", \"18\", \"fill\", \"currentColor\", \"viewBox\", \"0 0 16 16\", 1, \"bi\", \"bi-arrow-left\"], [\"fill-rule\", \"evenodd\", \"d\", \"M15 8a.5.5 0 0 0-.5-.5H2.707l3.147-3.146a.5.5 0 1 0-.708-.708l-4 4a.5.5 0 0 0 0 .708l4 4a.5.5 0 0 0 .708-.708L2.707 8.5H14.5A.5.5 0 0 0 15 8z\"], [1, \"display-6\"], [1, \"lead\"], [1, \"col-10\"], [1, \"input-group\", \"mb-3\"], [\"type\", \"file\", \"id\", \"inputGroupFile02\", 1, \"form-control\", 3, \"change\"], [1, \"form-floating\", \"mb-3\"], [\"type\", \"date\", \"id\", \"floatingInput\", \"name\", \"fechaVencimiento\", 1, \"form-control\", 3, \"ngModel\", \"ngModelChange\"], [\"for\", \"floatingInput\"], [1, \"btn\", \"btn-Enviar\", 3, \"click\"]],\n    template: function FormCarneSaludComponent_Template(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵelementStart(0, \"div\", 0)(1, \"div\", 1)(2, \"div\", 2)(3, \"div\", 3)(4, \"div\", 4)(5, \"div\", 5)(6, \"a\", 6);\n        i0.ɵɵlistener(\"click\", function FormCarneSaludComponent_Template_a_click_6_listener() {\n          return ctx.goBack();\n        });\n        i0.ɵɵnamespaceSVG();\n        i0.ɵɵelementStart(7, \"svg\", 7);\n        i0.ɵɵelement(8, \"path\", 8);\n        i0.ɵɵelementEnd()()()();\n        i0.ɵɵnamespaceHTML();\n        i0.ɵɵelementStart(9, \"div\", 4)(10, \"div\", 5)(11, \"h1\", 9);\n        i0.ɵɵtext(12, \"Carnet de salud\");\n        i0.ɵɵelementEnd()()();\n        i0.ɵɵelementStart(13, \"div\", 4)(14, \"div\", 5)(15, \"p\", 10);\n        i0.ɵɵtext(16, \"Adjunte una im\\u00E1gen como comprobante de su carn\\u00E9 de salud vigente con su fecha de vencimiento correspondiente.\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(17, \"p\", 10);\n        i0.ɵɵtext(18, \"En caso de no estar vigente, debe agendarse en la cl\\u00EDnica UCU para actualizarlo.\");\n        i0.ɵɵelementEnd()()();\n        i0.ɵɵelement(19, \"hr\");\n        i0.ɵɵelementStart(20, \"div\", 2)(21, \"div\", 11)(22, \"div\", 12)(23, \"input\", 13);\n        i0.ɵɵlistener(\"change\", function FormCarneSaludComponent_Template_input_change_23_listener($event) {\n          return ctx.onFileSelected($event);\n        });\n        i0.ɵɵelementEnd()()()();\n        i0.ɵɵelementStart(24, \"div\", 2)(25, \"div\", 11)(26, \"div\", 14)(27, \"input\", 15);\n        i0.ɵɵlistener(\"ngModelChange\", function FormCarneSaludComponent_Template_input_ngModelChange_27_listener($event) {\n          return ctx.fechaVencimiento = $event;\n        });\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(28, \"label\", 16);\n        i0.ɵɵtext(29, \"Fecha de vencimiento\");\n        i0.ɵɵelementEnd()()()();\n        i0.ɵɵelementStart(30, \"div\", 2)(31, \"div\", 11)(32, \"button\", 17);\n        i0.ɵɵlistener(\"click\", function FormCarneSaludComponent_Template_button_click_32_listener() {\n          return ctx.enviar();\n        });\n        i0.ɵɵtext(33, \"Enviar\");\n        i0.ɵɵelementEnd()()()()()()();\n      }\n      if (rf & 2) {\n        i0.ɵɵadvance(27);\n        i0.ɵɵproperty(\"ngModel\", ctx.fechaVencimiento);\n      }\n    },\n    dependencies: [i4.DefaultValueAccessor, i4.NgControlStatus, i4.NgModel],\n    styles: [\".fondo[_ngcontent-%COMP%] {\\n    background-image: url(\\\"data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' version='1.1' xmlns:xlink='http://www.w3.org/1999/xlink' xmlns:svgjs='http://svgjs.dev/svgjs' width='1440' height='560' preserveAspectRatio='none' viewBox='0 0 1440 560'%3e%3cg mask='url(%26quot%3b%23SvgjsMask1061%26quot%3b)' fill='none'%3e%3crect width='1440' height='560' x='0' y='0' fill='url(%26quot%3b%23SvgjsLinearGradient1062%26quot%3b)'%3e%3c/rect%3e%3cpath d='M840.763%2c644.355C875.451%2c646.232%2c908.365%2c625.945%2c924.712%2c595.292C940.226%2c566.202%2c933.378%2c531.398%2c915.916%2c503.434C899.571%2c477.259%2c871.618%2c461.333%2c840.763%2c460.856C809.01%2c460.366%2c776.817%2c473.241%2c761.48%2c501.049C746.558%2c528.105%2c756.242%2c559.95%2c771.2%2c586.986C786.795%2c615.174%2c808.596%2c642.615%2c840.763%2c644.355' fill='rgba(28%2c 83%2c 142%2c 0.4)' class='triangle-float2'%3e%3c/path%3e%3cpath d='M175.046%2c338.87C224.071%2c337.926%2c251.613%2c288.81%2c276.747%2c246.708C302.866%2c202.957%2c336.345%2c153.663%2c312.492%2c108.637C287.8%2c62.027%2c227.787%2c53.993%2c175.046%2c54.732C123.938%2c55.448%2c68.906%2c67.7%2c44.116%2c112.399C19.835%2c156.181%2c41.273%2c207.416%2c66.33%2c250.758C91.353%2c294.04%2c125.06%2c339.832%2c175.046%2c338.87' fill='rgba(28%2c 83%2c 142%2c 0.4)' class='triangle-float2'%3e%3c/path%3e%3cpath d='M189.328%2c534.479C214.063%2c534.039%2c235.022%2c517.827%2c247.029%2c496.197C258.662%2c475.241%2c259.129%2c450.245%2c247.819%2c429.113C235.803%2c406.662%2c214.791%2c388.16%2c189.328%2c388.382C164.162%2c388.602%2c144.846%2c408.144%2c132.579%2c430.119C120.676%2c451.441%2c116.296%2c476.861%2c127.961%2c498.313C140.118%2c520.669%2c163.884%2c534.931%2c189.328%2c534.479' fill='rgba(28%2c 83%2c 142%2c 0.4)' class='triangle-float2'%3e%3c/path%3e%3cpath d='M751.37 24.29 a131.42 131.42 0 1 0 262.84 0 a131.42 131.42 0 1 0 -262.84 0z' fill='rgba(28%2c 83%2c 142%2c 0.4)' class='triangle-float1'%3e%3c/path%3e%3cpath d='M1098.82 114.95 a118.36 118.36 0 1 0 236.72 0 a118.36 118.36 0 1 0 -236.72 0z' fill='rgba(28%2c 83%2c 142%2c 0.4)' class='triangle-float1'%3e%3c/path%3e%3cpath d='M112.719%2c705.373C157.865%2c707.53%2c195.1%2c672.219%2c215.809%2c632.046C234.789%2c595.227%2c232.088%2c551.415%2c210.217%2c516.237C189.548%2c482.991%2c151.846%2c467.498%2c112.719%2c466.232C70.811%2c464.876%2c24.053%2c472.925%2c3.642%2c509.552C-16.438%2c545.586%2c5.314%2c586.911%2c25.388%2c622.948C46.266%2c660.429%2c69.865%2c703.326%2c112.719%2c705.373' fill='rgba(28%2c 83%2c 142%2c 0.4)' class='triangle-float3'%3e%3c/path%3e%3c/g%3e%3cdefs%3e%3cmask id='SvgjsMask1061'%3e%3crect width='1440' height='560' fill='white'%3e%3c/rect%3e%3c/mask%3e%3clinearGradient x1='15.28%25' y1='-39.29%25' x2='84.72%25' y2='139.29%25' gradientUnits='userSpaceOnUse' id='SvgjsLinearGradient1062'%3e%3cstop stop-color='%230e2a47' offset='0'%3e%3c/stop%3e%3cstop stop-color='rgba(10%2c 49%2c 99%2c 1)' offset='1'%3e%3c/stop%3e%3c/linearGradient%3e%3cstyle%3e %40keyframes float1 %7b 0%25%7btransform: translate(0%2c 0)%7d 50%25%7btransform: translate(-10px%2c 0)%7d 100%25%7btransform: translate(0%2c 0)%7d %7d .triangle-float1 %7b animation: float1 5s infinite%3b %7d %40keyframes float2 %7b 0%25%7btransform: translate(0%2c 0)%7d 50%25%7btransform: translate(-5px%2c -5px)%7d 100%25%7btransform: translate(0%2c 0)%7d %7d .triangle-float2 %7b animation: float2 4s infinite%3b %7d %40keyframes float3 %7b 0%25%7btransform: translate(0%2c 0)%7d 50%25%7btransform: translate(0%2c -10px)%7d 100%25%7btransform: translate(0%2c 0)%7d %7d .triangle-float3 %7b animation: float3 6s infinite%3b %7d %3c/style%3e%3c/defs%3e%3c/svg%3e\\\");\\n    background-size: cover;\\n    width: 100%;\\n    height: 100%;\\n    position: absolute;\\n    top: 0;\\n    left: 0;\\n}\\n\\n.content-form[_ngcontent-%COMP%]{\\n    padding: 20px;\\n    filter: blur();\\n    background-color: white;\\n    margin-top: 10%;\\n    height: 100%;\\n}\\n\\n.btn-Enviar[_ngcontent-%COMP%]{\\n    width: 100%;\\n    background-color: rgba(10, 49, 99, 1);\\n    color: white;\\n}\\n\\n.btn-Enviar[_ngcontent-%COMP%]:hover{\\n    background-color: rgb(7, 34, 70);\\n}\\n\\np[_ngcontent-%COMP%]{\\n    font-size: 15px;\\n}\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8uL3NyYy9hcHAvY29tcG9uZW50cy9mb3JtLWNhcm5lLXNhbHVkL2Zvcm0tY2FybmUtc2FsdWQuY29tcG9uZW50LmNzcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtJQUNJLGlpSEFBaWlIO0lBQ2ppSCxzQkFBc0I7SUFDdEIsV0FBVztJQUNYLFlBQVk7SUFDWixrQkFBa0I7SUFDbEIsTUFBTTtJQUNOLE9BQU87QUFDWDs7QUFFQTtJQUNJLGFBQWE7SUFDYixjQUFjO0lBQ2QsdUJBQXVCO0lBQ3ZCLGVBQWU7SUFDZixZQUFZO0FBQ2hCOztBQUVBO0lBQ0ksV0FBVztJQUNYLHFDQUFxQztJQUNyQyxZQUFZO0FBQ2hCOztBQUVBO0lBQ0ksZ0NBQWdDO0FBQ3BDOztBQUVBO0lBQ0ksZUFBZTtBQUNuQiIsInNvdXJjZXNDb250ZW50IjpbIi5mb25kbyB7XHJcbiAgICBiYWNrZ3JvdW5kLWltYWdlOiB1cmwoXCJkYXRhOmltYWdlL3N2Zyt4bWwsJTNjc3ZnIHhtbG5zPSdodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZycgdmVyc2lvbj0nMS4xJyB4bWxuczp4bGluaz0naHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluaycgeG1sbnM6c3ZnanM9J2h0dHA6Ly9zdmdqcy5kZXYvc3ZnanMnIHdpZHRoPScxNDQwJyBoZWlnaHQ9JzU2MCcgcHJlc2VydmVBc3BlY3RSYXRpbz0nbm9uZScgdmlld0JveD0nMCAwIDE0NDAgNTYwJyUzZSUzY2cgbWFzaz0ndXJsKCUyNnF1b3QlM2IlMjNTdmdqc01hc2sxMDYxJTI2cXVvdCUzYiknIGZpbGw9J25vbmUnJTNlJTNjcmVjdCB3aWR0aD0nMTQ0MCcgaGVpZ2h0PSc1NjAnIHg9JzAnIHk9JzAnIGZpbGw9J3VybCglMjZxdW90JTNiJTIzU3ZnanNMaW5lYXJHcmFkaWVudDEwNjIlMjZxdW90JTNiKSclM2UlM2MvcmVjdCUzZSUzY3BhdGggZD0nTTg0MC43NjMlMmM2NDQuMzU1Qzg3NS40NTElMmM2NDYuMjMyJTJjOTA4LjM2NSUyYzYyNS45NDUlMmM5MjQuNzEyJTJjNTk1LjI5MkM5NDAuMjI2JTJjNTY2LjIwMiUyYzkzMy4zNzglMmM1MzEuMzk4JTJjOTE1LjkxNiUyYzUwMy40MzRDODk5LjU3MSUyYzQ3Ny4yNTklMmM4NzEuNjE4JTJjNDYxLjMzMyUyYzg0MC43NjMlMmM0NjAuODU2QzgwOS4wMSUyYzQ2MC4zNjYlMmM3NzYuODE3JTJjNDczLjI0MSUyYzc2MS40OCUyYzUwMS4wNDlDNzQ2LjU1OCUyYzUyOC4xMDUlMmM3NTYuMjQyJTJjNTU5Ljk1JTJjNzcxLjIlMmM1ODYuOTg2Qzc4Ni43OTUlMmM2MTUuMTc0JTJjODA4LjU5NiUyYzY0Mi42MTUlMmM4NDAuNzYzJTJjNjQ0LjM1NScgZmlsbD0ncmdiYSgyOCUyYyA4MyUyYyAxNDIlMmMgMC40KScgY2xhc3M9J3RyaWFuZ2xlLWZsb2F0MiclM2UlM2MvcGF0aCUzZSUzY3BhdGggZD0nTTE3NS4wNDYlMmMzMzguODdDMjI0LjA3MSUyYzMzNy45MjYlMmMyNTEuNjEzJTJjMjg4LjgxJTJjMjc2Ljc0NyUyYzI0Ni43MDhDMzAyLjg2NiUyYzIwMi45NTclMmMzMzYuMzQ1JTJjMTUzLjY2MyUyYzMxMi40OTIlMmMxMDguNjM3QzI4Ny44JTJjNjIuMDI3JTJjMjI3Ljc4NyUyYzUzLjk5MyUyYzE3NS4wNDYlMmM1NC43MzJDMTIzLjkzOCUyYzU1LjQ0OCUyYzY4LjkwNiUyYzY3LjclMmM0NC4xMTYlMmMxMTIuMzk5QzE5LjgzNSUyYzE1Ni4xODElMmM0MS4yNzMlMmMyMDcuNDE2JTJjNjYuMzMlMmMyNTAuNzU4QzkxLjM1MyUyYzI5NC4wNCUyYzEyNS4wNiUyYzMzOS44MzIlMmMxNzUuMDQ2JTJjMzM4Ljg3JyBmaWxsPSdyZ2JhKDI4JTJjIDgzJTJjIDE0MiUyYyAwLjQpJyBjbGFzcz0ndHJpYW5nbGUtZmxvYXQyJyUzZSUzYy9wYXRoJTNlJTNjcGF0aCBkPSdNMTg5LjMyOCUyYzUzNC40NzlDMjE0LjA2MyUyYzUzNC4wMzklMmMyMzUuMDIyJTJjNTE3LjgyNyUyYzI0Ny4wMjklMmM0OTYuMTk3QzI1OC42NjIlMmM0NzUuMjQxJTJjMjU5LjEyOSUyYzQ1MC4yNDUlMmMyNDcuODE5JTJjNDI5LjExM0MyMzUuODAzJTJjNDA2LjY2MiUyYzIxNC43OTElMmMzODguMTYlMmMxODkuMzI4JTJjMzg4LjM4MkMxNjQuMTYyJTJjMzg4LjYwMiUyYzE0NC44NDYlMmM0MDguMTQ0JTJjMTMyLjU3OSUyYzQzMC4xMTlDMTIwLjY3NiUyYzQ1MS40NDElMmMxMTYuMjk2JTJjNDc2Ljg2MSUyYzEyNy45NjElMmM0OTguMzEzQzE0MC4xMTglMmM1MjAuNjY5JTJjMTYzLjg4NCUyYzUzNC45MzElMmMxODkuMzI4JTJjNTM0LjQ3OScgZmlsbD0ncmdiYSgyOCUyYyA4MyUyYyAxNDIlMmMgMC40KScgY2xhc3M9J3RyaWFuZ2xlLWZsb2F0MiclM2UlM2MvcGF0aCUzZSUzY3BhdGggZD0nTTc1MS4zNyAyNC4yOSBhMTMxLjQyIDEzMS40MiAwIDEgMCAyNjIuODQgMCBhMTMxLjQyIDEzMS40MiAwIDEgMCAtMjYyLjg0IDB6JyBmaWxsPSdyZ2JhKDI4JTJjIDgzJTJjIDE0MiUyYyAwLjQpJyBjbGFzcz0ndHJpYW5nbGUtZmxvYXQxJyUzZSUzYy9wYXRoJTNlJTNjcGF0aCBkPSdNMTA5OC44MiAxMTQuOTUgYTExOC4zNiAxMTguMzYgMCAxIDAgMjM2LjcyIDAgYTExOC4zNiAxMTguMzYgMCAxIDAgLTIzNi43MiAweicgZmlsbD0ncmdiYSgyOCUyYyA4MyUyYyAxNDIlMmMgMC40KScgY2xhc3M9J3RyaWFuZ2xlLWZsb2F0MSclM2UlM2MvcGF0aCUzZSUzY3BhdGggZD0nTTExMi43MTklMmM3MDUuMzczQzE1Ny44NjUlMmM3MDcuNTMlMmMxOTUuMSUyYzY3Mi4yMTklMmMyMTUuODA5JTJjNjMyLjA0NkMyMzQuNzg5JTJjNTk1LjIyNyUyYzIzMi4wODglMmM1NTEuNDE1JTJjMjEwLjIxNyUyYzUxNi4yMzdDMTg5LjU0OCUyYzQ4Mi45OTElMmMxNTEuODQ2JTJjNDY3LjQ5OCUyYzExMi43MTklMmM0NjYuMjMyQzcwLjgxMSUyYzQ2NC44NzYlMmMyNC4wNTMlMmM0NzIuOTI1JTJjMy42NDIlMmM1MDkuNTUyQy0xNi40MzglMmM1NDUuNTg2JTJjNS4zMTQlMmM1ODYuOTExJTJjMjUuMzg4JTJjNjIyLjk0OEM0Ni4yNjYlMmM2NjAuNDI5JTJjNjkuODY1JTJjNzAzLjMyNiUyYzExMi43MTklMmM3MDUuMzczJyBmaWxsPSdyZ2JhKDI4JTJjIDgzJTJjIDE0MiUyYyAwLjQpJyBjbGFzcz0ndHJpYW5nbGUtZmxvYXQzJyUzZSUzYy9wYXRoJTNlJTNjL2clM2UlM2NkZWZzJTNlJTNjbWFzayBpZD0nU3ZnanNNYXNrMTA2MSclM2UlM2NyZWN0IHdpZHRoPScxNDQwJyBoZWlnaHQ9JzU2MCcgZmlsbD0nd2hpdGUnJTNlJTNjL3JlY3QlM2UlM2MvbWFzayUzZSUzY2xpbmVhckdyYWRpZW50IHgxPScxNS4yOCUyNScgeTE9Jy0zOS4yOSUyNScgeDI9Jzg0LjcyJTI1JyB5Mj0nMTM5LjI5JTI1JyBncmFkaWVudFVuaXRzPSd1c2VyU3BhY2VPblVzZScgaWQ9J1N2Z2pzTGluZWFyR3JhZGllbnQxMDYyJyUzZSUzY3N0b3Agc3RvcC1jb2xvcj0nJTIzMGUyYTQ3JyBvZmZzZXQ9JzAnJTNlJTNjL3N0b3AlM2UlM2NzdG9wIHN0b3AtY29sb3I9J3JnYmEoMTAlMmMgNDklMmMgOTklMmMgMSknIG9mZnNldD0nMSclM2UlM2Mvc3RvcCUzZSUzYy9saW5lYXJHcmFkaWVudCUzZSUzY3N0eWxlJTNlICU0MGtleWZyYW1lcyBmbG9hdDEgJTdiIDAlMjUlN2J0cmFuc2Zvcm06IHRyYW5zbGF0ZSgwJTJjIDApJTdkIDUwJTI1JTdidHJhbnNmb3JtOiB0cmFuc2xhdGUoLTEwcHglMmMgMCklN2QgMTAwJTI1JTdidHJhbnNmb3JtOiB0cmFuc2xhdGUoMCUyYyAwKSU3ZCAlN2QgLnRyaWFuZ2xlLWZsb2F0MSAlN2IgYW5pbWF0aW9uOiBmbG9hdDEgNXMgaW5maW5pdGUlM2IgJTdkICU0MGtleWZyYW1lcyBmbG9hdDIgJTdiIDAlMjUlN2J0cmFuc2Zvcm06IHRyYW5zbGF0ZSgwJTJjIDApJTdkIDUwJTI1JTdidHJhbnNmb3JtOiB0cmFuc2xhdGUoLTVweCUyYyAtNXB4KSU3ZCAxMDAlMjUlN2J0cmFuc2Zvcm06IHRyYW5zbGF0ZSgwJTJjIDApJTdkICU3ZCAudHJpYW5nbGUtZmxvYXQyICU3YiBhbmltYXRpb246IGZsb2F0MiA0cyBpbmZpbml0ZSUzYiAlN2QgJTQwa2V5ZnJhbWVzIGZsb2F0MyAlN2IgMCUyNSU3YnRyYW5zZm9ybTogdHJhbnNsYXRlKDAlMmMgMCklN2QgNTAlMjUlN2J0cmFuc2Zvcm06IHRyYW5zbGF0ZSgwJTJjIC0xMHB4KSU3ZCAxMDAlMjUlN2J0cmFuc2Zvcm06IHRyYW5zbGF0ZSgwJTJjIDApJTdkICU3ZCAudHJpYW5nbGUtZmxvYXQzICU3YiBhbmltYXRpb246IGZsb2F0MyA2cyBpbmZpbml0ZSUzYiAlN2QgJTNjL3N0eWxlJTNlJTNjL2RlZnMlM2UlM2Mvc3ZnJTNlXCIpO1xyXG4gICAgYmFja2dyb3VuZC1zaXplOiBjb3ZlcjtcclxuICAgIHdpZHRoOiAxMDAlO1xyXG4gICAgaGVpZ2h0OiAxMDAlO1xyXG4gICAgcG9zaXRpb246IGFic29sdXRlO1xyXG4gICAgdG9wOiAwO1xyXG4gICAgbGVmdDogMDtcclxufVxyXG5cclxuLmNvbnRlbnQtZm9ybXtcclxuICAgIHBhZGRpbmc6IDIwcHg7XHJcbiAgICBmaWx0ZXI6IGJsdXIoKTtcclxuICAgIGJhY2tncm91bmQtY29sb3I6IHdoaXRlO1xyXG4gICAgbWFyZ2luLXRvcDogMTAlO1xyXG4gICAgaGVpZ2h0OiAxMDAlO1xyXG59XHJcblxyXG4uYnRuLUVudmlhcntcclxuICAgIHdpZHRoOiAxMDAlO1xyXG4gICAgYmFja2dyb3VuZC1jb2xvcjogcmdiYSgxMCwgNDksIDk5LCAxKTtcclxuICAgIGNvbG9yOiB3aGl0ZTtcclxufVxyXG5cclxuLmJ0bi1FbnZpYXI6aG92ZXJ7XHJcbiAgICBiYWNrZ3JvdW5kLWNvbG9yOiByZ2IoNywgMzQsIDcwKTtcclxufVxyXG5cclxucHtcclxuICAgIGZvbnQtc2l6ZTogMTVweDtcclxufSJdLCJzb3VyY2VSb290IjoiIn0= */\"]\n  });\n}","map":{"version":3,"names":["FormCarneSaludComponent","constructor","_location","route","router","carnetService","urlImg","ci","fechaVencimiento","params","subscribe","onFileSelected","event","inputElement","target","files","length","selectedFile","fileName","name","console","log","URL","createObjectURL","enviar","carnet","CI","fechaEmision","Date","now","toString","toISOString","Comprobante","AñadirCarnetSalud","response","alert","navigate","relativeTo","error","goBack","back","_","i0","ɵɵdirectiveInject","i1","Location","i2","ActivatedRoute","Router","i3","CarnetSaludService","_2","selectors","decls","vars","consts","template","FormCarneSaludComponent_Template","rf","ctx","ɵɵelementStart","ɵɵlistener","FormCarneSaludComponent_Template_a_click_6_listener","ɵɵnamespaceSVG","ɵɵelement","ɵɵelementEnd","ɵɵnamespaceHTML","ɵɵtext","FormCarneSaludComponent_Template_input_change_23_listener","$event","FormCarneSaludComponent_Template_input_ngModelChange_27_listener","FormCarneSaludComponent_Template_button_click_32_listener","ɵɵadvance","ɵɵproperty"],"sources":["C:\\Users\\Ignacio\\Desktop\\Obligatorio-BDD\\proyecto-angular\\src\\app\\components\\form-carne-salud\\form-carne-salud.component.ts","C:\\Users\\Ignacio\\Desktop\\Obligatorio-BDD\\proyecto-angular\\src\\app\\components\\form-carne-salud\\form-carne-salud.component.html"],"sourcesContent":["import { Component } from '@angular/core';\r\nimport {Location} from '@angular/common';\r\nimport { ActivatedRoute, Router } from '@angular/router';\r\nimport { CarnetSaludService } from 'src/app/services/carnet-salud.service';\r\nimport { CarnetSalud } from 'src/app/interfaces/carnetSalud';\r\n \r\n\r\n@Component({\r\n  selector: 'app-form-carne-salud',\r\n  templateUrl: './form-carne-salud.component.html',\r\n  styleUrls: ['./form-carne-salud.component.css']\r\n})\r\nexport class FormCarneSaludComponent {\r\n  urlImg: string = \"\";\r\n  ci: number = 0;\r\n  \r\n   fechaVencimiento  = \"\";\r\n \r\n  \r\n  constructor(private _location: Location,private route: ActivatedRoute,private router: Router, private carnetService: CarnetSaludService){\r\n    this.route.params.subscribe(params => {\r\n      this.ci = +params['ci'];     \r\n    });\r\n   }\r\n\r\n  onFileSelected(event: any): void {\r\n    const inputElement = event.target;\r\n    if (inputElement.files.length > 0) { \r\n      const selectedFile = inputElement.files[0];\r\n      const fileName = selectedFile.name;\r\n      console.log('Archivo seleccionado:', fileName); \r\n      this.urlImg = URL.createObjectURL(selectedFile);\r\n      \r\n      console.log('Ruta completa del archivo:', this.urlImg); \r\n    }\r\n  }\r\n\r\n\r\n  enviar(){\r\n\r\n    let carnet: CarnetSalud ={\r\n      CI: this.ci,\r\n      fechaEmision: Date.now().toString(),\r\n      fechaVencimiento: new Date(this.fechaVencimiento).toISOString(),\r\n      Comprobante: this.urlImg\r\n    }\r\n\r\n    this.carnetService.AñadirCarnetSalud(carnet).subscribe(\r\n      response => {\r\n     \r\n      \r\n        alert(\"Se ha añadido con exito su carnet de salud.\")\r\n        this.router.navigate([`/`], { relativeTo: this.route });\r\n        \r\n      },\r\n      error => {\r\n        console.error('Error en la solicitud POST:', error);\r\n\r\n      }\r\n    );    \r\n  }\r\n\r\n  goBack(): void{\r\n    this._location.back();\r\n  }\r\n}","<div class=\"fondo\">\r\n    <div class=\"container\">\r\n        <div class=\"row justify-content-center\">\r\n            <div class=\"col-6 content-form rounded shadow\">\r\n                <div class=\"row\">\r\n                    <div class=\"col\">\r\n                        <a (click)=\"goBack()\"><svg xmlns=\"http://www.w3.org/2000/svg\" width=\"18\" height=\"18\" fill=\"currentColor\" class=\"bi bi-arrow-left\" viewBox=\"0 0 16 16\">\r\n                            <path fill-rule=\"evenodd\" d=\"M15 8a.5.5 0 0 0-.5-.5H2.707l3.147-3.146a.5.5 0 1 0-.708-.708l-4 4a.5.5 0 0 0 0 .708l4 4a.5.5 0 0 0 .708-.708L2.707 8.5H14.5A.5.5 0 0 0 15 8z\"/>\r\n                          </svg></a>\r\n                    </div>\r\n                </div>\r\n                <div class=\"row\">\r\n                    <div class=\"col\">\r\n                        <h1 class=\"display-6\">Carnet de salud</h1>\r\n                    </div>\r\n                </div>\r\n                <div class=\"row\">\r\n                    <div class=\"col\">\r\n                        <p class=\"lead\">Adjunte una imágen como comprobante de su carné de salud vigente con su fecha de vencimiento correspondiente.</p>\r\n                        <p class=\"lead\">En caso de no estar vigente, debe agendarse en la clínica UCU para\r\n                            actualizarlo.</p>\r\n                    </div>\r\n                </div>\r\n                <hr>\r\n                <div class=\"row justify-content-center\">\r\n                    <div class=\"col-10\">\r\n                        <div class=\"input-group mb-3\">\r\n                            <input type=\"file\" class=\"form-control\" (change)=\"onFileSelected($event)\"\r\n                                id=\"inputGroupFile02\">\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n                <div class=\"row justify-content-center\">\r\n                    <div class=\"col-10\">\r\n                        <div class=\"form-floating mb-3\">\r\n                            <input type=\"date\" class=\"form-control\" id=\"floatingInput\" [(ngModel)]=\"fechaVencimiento\" name=\"fechaVencimiento\">\r\n                            <label for=\"floatingInput\" >Fecha de vencimiento</label>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n                <div class=\"row justify-content-center\">\r\n                    <div class=\"col-10\">\r\n                        <button class=\"btn btn-Enviar\" (click)=\"enviar()\">Enviar</button>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    </div>\r\n</div>"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}