{"ast":null,"code":"import { __decorate } from \"tslib\";\nimport { Component } from '@angular/core';\nexport let DateAdminComponent = class DateAdminComponent {\n  constructor(periodoService) {\n    this.periodoService = periodoService;\n    this.fechaActual = new Date();\n    this.fechaActualización = new Date('2023-11-18T23:59:59'); //esta fecha se va a obtener desde la bd\n    this.tiempoRestanteAct = {};\n    this.dateText = '';\n    this.calcularDiasRestantes();\n    this.socket.userCount$.subscribe(count => {\n      this.usuarios = count;\n      console.log(this.usuarios);\n    });\n  }\n  calcularDiasRestantes() {\n    const fechaActual = new Date();\n    const tiempoRestante = this.fechaActualización.getTime() - fechaActual.getTime();\n    this.tiempoRestanteAct.dias = Math.floor(tiempoRestante / (1000 * 60 * 60 * 24));\n    this.tiempoRestanteAct.horas = Math.floor(tiempoRestante % (1000 * 60 * 60 * 24) / (1000 * 60 * 60));\n    this.tiempoRestanteAct.minutos = Math.floor(tiempoRestante % (1000 * 60 * 60) / (1000 * 60));\n    if (this.tiempoRestanteAct.dias < 0) {\n      this.dateText += 'La fecha de actualización ha vencido';\n    } else {\n      this.dateText += 'Faltan: ' + this.tiempoRestanteAct.dias + 'días,' + this.tiempoRestanteAct.horas + ' horas y ' + this.tiempoRestanteAct.minutos + ' minutos para que el periodo de actualización finalice';\n    }\n  }\n};\nDateAdminComponent = __decorate([Component({\n  selector: 'app-date-admin',\n  templateUrl: './date-admin.component.html',\n  styleUrls: ['./date-admin.component.css']\n})], DateAdminComponent);","map":{"version":3,"names":["Component","DateAdminComponent","constructor","periodoService","fechaActual","Date","fechaActualización","tiempoRestanteAct","dateText","calcularDiasRestantes","socket","userCount$","subscribe","count","usuarios","console","log","tiempoRestante","getTime","dias","Math","floor","horas","minutos","__decorate","selector","templateUrl","styleUrls"],"sources":["C:\\Users\\USUARIO\\Escritorio\\UCU\\BASES DE DATOS 1\\ULTIMA VERSION OBLIGATORIO DEFINITIVA\\Obligatorio-BDD\\proyecto-angular\\src\\app\\components\\date-admin\\date-admin.component.ts"],"sourcesContent":["import { Component } from '@angular/core';\r\nimport { PeriodosActualizacion } from 'src/app/interfaces/periodosActualizacion';\r\n\r\n@Component({\r\n  selector: 'app-date-admin',\r\n  templateUrl: './date-admin.component.html',\r\n  styleUrls: ['./date-admin.component.css']\r\n})\r\nexport class DateAdminComponent {\r\n  fechaActual: Date = new Date();\r\n  fechaActualización: Date = new Date('2023-11-18T23:59:59'); //esta fecha se va a obtener desde la bd\r\n  tiempoRestanteAct: any = {};\r\n  dateText = '';\r\n\r\n  constructor(private periodoService: PeriodosActualizacion) {\r\n    this.calcularDiasRestantes();\r\n    this.socket.userCount$.subscribe(count => {\r\n      this.usuarios = count;\r\n      console.log(this.usuarios);\r\n    });\r\n  }\r\n\r\n  calcularDiasRestantes() {\r\n    const fechaActual = new Date();\r\n    \r\n    const tiempoRestante = this.fechaActualización.getTime() - fechaActual.getTime();\r\n    this.tiempoRestanteAct.dias = Math.floor(tiempoRestante / (1000 * 60 * 60 * 24));\r\n    this.tiempoRestanteAct.horas = Math.floor((tiempoRestante % (1000 * 60 * 60 * 24)) / (1000 * 60 * 60));\r\n    this.tiempoRestanteAct.minutos = Math.floor((tiempoRestante % (1000 * 60 * 60)) / (1000 * 60));\r\n    if (this.tiempoRestanteAct.dias < 0) {\r\n      this.dateText += 'La fecha de actualización ha vencido';\r\n    } else {\r\n      this.dateText += 'Faltan: ' + this.tiempoRestanteAct.dias + 'días,' + this.tiempoRestanteAct.horas + ' horas y ' + this.tiempoRestanteAct.minutos + ' minutos para que el periodo de actualización finalice'\r\n    }\r\n  }\r\n}"],"mappings":";AAAA,SAASA,SAAS,QAAQ,eAAe;AAQlC,WAAMC,kBAAkB,GAAxB,MAAMA,kBAAkB;EAM7BC,YAAoBC,cAAqC;IAArC,KAAAA,cAAc,GAAdA,cAAc;IALlC,KAAAC,WAAW,GAAS,IAAIC,IAAI,EAAE;IAC9B,KAAAC,kBAAkB,GAAS,IAAID,IAAI,CAAC,qBAAqB,CAAC,CAAC,CAAC;IAC5D,KAAAE,iBAAiB,GAAQ,EAAE;IAC3B,KAAAC,QAAQ,GAAG,EAAE;IAGX,IAAI,CAACC,qBAAqB,EAAE;IAC5B,IAAI,CAACC,MAAM,CAACC,UAAU,CAACC,SAAS,CAACC,KAAK,IAAG;MACvC,IAAI,CAACC,QAAQ,GAAGD,KAAK;MACrBE,OAAO,CAACC,GAAG,CAAC,IAAI,CAACF,QAAQ,CAAC;IAC5B,CAAC,CAAC;EACJ;EAEAL,qBAAqBA,CAAA;IACnB,MAAML,WAAW,GAAG,IAAIC,IAAI,EAAE;IAE9B,MAAMY,cAAc,GAAG,IAAI,CAACX,kBAAkB,CAACY,OAAO,EAAE,GAAGd,WAAW,CAACc,OAAO,EAAE;IAChF,IAAI,CAACX,iBAAiB,CAACY,IAAI,GAAGC,IAAI,CAACC,KAAK,CAACJ,cAAc,IAAI,IAAI,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE,CAAC,CAAC;IAChF,IAAI,CAACV,iBAAiB,CAACe,KAAK,GAAGF,IAAI,CAACC,KAAK,CAAEJ,cAAc,IAAI,IAAI,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE,CAAC,IAAK,IAAI,GAAG,EAAE,GAAG,EAAE,CAAC,CAAC;IACtG,IAAI,CAACV,iBAAiB,CAACgB,OAAO,GAAGH,IAAI,CAACC,KAAK,CAAEJ,cAAc,IAAI,IAAI,GAAG,EAAE,GAAG,EAAE,CAAC,IAAK,IAAI,GAAG,EAAE,CAAC,CAAC;IAC9F,IAAI,IAAI,CAACV,iBAAiB,CAACY,IAAI,GAAG,CAAC,EAAE;MACnC,IAAI,CAACX,QAAQ,IAAI,sCAAsC;KACxD,MAAM;MACL,IAAI,CAACA,QAAQ,IAAI,UAAU,GAAG,IAAI,CAACD,iBAAiB,CAACY,IAAI,GAAG,OAAO,GAAG,IAAI,CAACZ,iBAAiB,CAACe,KAAK,GAAG,WAAW,GAAG,IAAI,CAACf,iBAAiB,CAACgB,OAAO,GAAG,wDAAwD;;EAEhN;CACD;AA3BYtB,kBAAkB,GAAAuB,UAAA,EAL9BxB,SAAS,CAAC;EACTyB,QAAQ,EAAE,gBAAgB;EAC1BC,WAAW,EAAE,6BAA6B;EAC1CC,SAAS,EAAE,CAAC,4BAA4B;CACzC,CAAC,C,EACW1B,kBAAkB,CA2B9B"},"metadata":{},"sourceType":"module","externalDependencies":[]}