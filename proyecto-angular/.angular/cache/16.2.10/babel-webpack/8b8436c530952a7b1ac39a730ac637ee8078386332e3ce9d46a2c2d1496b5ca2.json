{"ast":null,"code":"import { __decorate } from \"tslib\";\nimport { Component } from '@angular/core';\nexport let UserFormComponent = class UserFormComponent {\n  constructor(route, router, funcionarioService, agendaServioce, {}) {\n    this.route = route;\n    this.router = router;\n    this.funcionarioService = funcionarioService;\n    this.agendaServioce = agendaServioce;\n    this.carnetsalud = false;\n    this.nombre = \"\";\n    this.apellido = \"\";\n    this.ci = null;\n    this.fecha_nacimiento = \"\";\n    this.funcionarios = [];\n    this.logId = 0;\n    this.route.params.subscribe(params => {\n      this.logId = +params['logId'];\n    });\n  }\n  onChange() {\n    console.log(this.carnetsalud);\n  }\n  enviar() {\n    if (this.apellido === '' || this.nombre === '' || this.fecha_nacimiento === '') {\n      alert(\"Debe ingresar todos los campos\");\n    } else {\n      this.funcionarioService.getAllFuncionarios().subscribe(response => {\n        this.funcionarios = response;\n        const funcionarioEncontrado = this.funcionarios.find(funcionario => funcionario.ci === this.ci);\n        if (funcionarioEncontrado && funcionarioEncontrado.nombre.trim() === this.nombre.trim() && funcionarioEncontrado.apellido.trim() === this.apellido.trim() && funcionarioEncontrado.logId === this.logId && funcionarioEncontrado.fch_Nacimiento.split('T')[0] === this.fecha_nacimiento) {\n          if (this.carnetsalud) {\n            this.router.navigate([`/carneSaludForm/${this.ci}`], {\n              relativeTo: this.route\n            });\n          } else {\n            this.router.navigate([`/agendaForm/${this.ci}`], {\n              relativeTo: this.route\n            }); //lo manda a agendarse en la clinica ucu\n          }\n        } else {\n          console.log(funcionarioEncontrado);\n          alert(\"Usuario no encontrado\");\n        }\n      }, error => {\n        console.log(error);\n      });\n    }\n  }\n};\nUserFormComponent = __decorate([Component({\n  selector: 'app-user-form',\n  templateUrl: './user-form.component.html',\n  styleUrls: ['./user-form.component.css']\n})], UserFormComponent);","map":{"version":3,"names":["Component","UserFormComponent","constructor","route","router","funcionarioService","agendaServioce","carnetsalud","nombre","apellido","ci","fecha_nacimiento","funcionarios","logId","params","subscribe","onChange","console","log","enviar","alert","getAllFuncionarios","response","funcionarioEncontrado","find","funcionario","trim","fch_Nacimiento","split","navigate","relativeTo","error","__decorate","selector","templateUrl","styleUrls"],"sources":["C:\\Users\\Ignacio\\Desktop\\Obligatorio-BDD\\proyecto-angular\\src\\app\\components\\user-form\\user-form.component.ts"],"sourcesContent":["import { Component } from '@angular/core';\r\nimport { ActivatedRoute, Router } from '@angular/router';\r\nimport { Funcionarios } from 'src/app/interfaces/funcionario';\r\nimport { FuncionarioService } from 'src/app/services/funcionario.service';\r\n\r\n@Component({\r\n  selector: 'app-user-form',\r\n  templateUrl: './user-form.component.html',\r\n  styleUrls: ['./user-form.component.css']\r\n})\r\n\r\n\r\nexport class UserFormComponent {\r\n  carnetsalud: boolean = false;\r\n  nombre = \"\";\r\n  apellido = \"\";\r\n  ci: number | null = null;\r\n  fecha_nacimiento = \"\";\r\n  funcionarios: any[] = [];\r\n  logId: number = 0;\r\n\r\n  constructor(\r\n    private route: ActivatedRoute,\r\n    private router: Router,\r\n    private funcionarioService: FuncionarioService,private agendaServioce : AgendaService{\r\n      \r\n    }) {\r\n      this.route.params.subscribe(params => {\r\n        this.logId = +params['logId'];     \r\n      });\r\n     }\r\n     \r\n\r\n  onChange() {\r\n    console.log(this.carnetsalud);\r\n  }\r\n\r\n  enviar() {\r\n    if (this.apellido === '' || this.nombre === '' || this.fecha_nacimiento === '') {\r\n      alert(\"Debe ingresar todos los campos\");\r\n    } else {\r\n\r\n      this.funcionarioService.getAllFuncionarios().subscribe(\r\n        (response:any) => {\r\n          this.funcionarios = response;\r\n        const funcionarioEncontrado = this.funcionarios.find(funcionario => funcionario.ci === this.ci);\r\n      \r\n      if(funcionarioEncontrado && funcionarioEncontrado.nombre.trim() === this.nombre.trim() && funcionarioEncontrado.apellido.trim() === this.apellido.trim() && funcionarioEncontrado.logId === this.logId && funcionarioEncontrado.fch_Nacimiento.split('T')[0] === this.fecha_nacimiento){\r\n        if (this.carnetsalud) {\r\n          this.router.navigate([`/carneSaludForm/${this.ci}`], { relativeTo: this.route });\r\n        }\r\n        else {\r\n          this.router.navigate([`/agendaForm/${this.ci}`], { relativeTo: this.route }); //lo manda a agendarse en la clinica ucu\r\n        }\r\n      }else{\r\n        console.log(funcionarioEncontrado);\r\n\r\n        alert(\"Usuario no encontrado\");\r\n      }\r\n          \r\n        },\r\n        error => {\r\n          console.log(error);\r\n        }\r\n      )\r\n\r\n      \r\n      \r\n    }\r\n  }\r\n}"],"mappings":";AAAA,SAASA,SAAS,QAAQ,eAAe;AAYlC,WAAMC,iBAAiB,GAAvB,MAAMA,iBAAiB;EAS5BC,YACUC,KAAqB,EACrBC,MAAc,EACdC,kBAAsC,EAASC,cAA8B,IAEpF;IAJO,KAAAH,KAAK,GAALA,KAAK;IACL,KAAAC,MAAM,GAANA,MAAM;IACN,KAAAC,kBAAkB,GAAlBA,kBAAkB;IAA6B,KAAAC,cAAc,GAAdA,cAAc;IAXvE,KAAAC,WAAW,GAAY,KAAK;IAC5B,KAAAC,MAAM,GAAG,EAAE;IACX,KAAAC,QAAQ,GAAG,EAAE;IACb,KAAAC,EAAE,GAAkB,IAAI;IACxB,KAAAC,gBAAgB,GAAG,EAAE;IACrB,KAAAC,YAAY,GAAU,EAAE;IACxB,KAAAC,KAAK,GAAW,CAAC;IAQb,IAAI,CAACV,KAAK,CAACW,MAAM,CAACC,SAAS,CAACD,MAAM,IAAG;MACnC,IAAI,CAACD,KAAK,GAAG,CAACC,MAAM,CAAC,OAAO,CAAC;IAC/B,CAAC,CAAC;EACH;EAGHE,QAAQA,CAAA;IACNC,OAAO,CAACC,GAAG,CAAC,IAAI,CAACX,WAAW,CAAC;EAC/B;EAEAY,MAAMA,CAAA;IACJ,IAAI,IAAI,CAACV,QAAQ,KAAK,EAAE,IAAI,IAAI,CAACD,MAAM,KAAK,EAAE,IAAI,IAAI,CAACG,gBAAgB,KAAK,EAAE,EAAE;MAC9ES,KAAK,CAAC,gCAAgC,CAAC;KACxC,MAAM;MAEL,IAAI,CAACf,kBAAkB,CAACgB,kBAAkB,EAAE,CAACN,SAAS,CACnDO,QAAY,IAAI;QACf,IAAI,CAACV,YAAY,GAAGU,QAAQ;QAC9B,MAAMC,qBAAqB,GAAG,IAAI,CAACX,YAAY,CAACY,IAAI,CAACC,WAAW,IAAIA,WAAW,CAACf,EAAE,KAAK,IAAI,CAACA,EAAE,CAAC;QAEjG,IAAGa,qBAAqB,IAAIA,qBAAqB,CAACf,MAAM,CAACkB,IAAI,EAAE,KAAK,IAAI,CAAClB,MAAM,CAACkB,IAAI,EAAE,IAAIH,qBAAqB,CAACd,QAAQ,CAACiB,IAAI,EAAE,KAAK,IAAI,CAACjB,QAAQ,CAACiB,IAAI,EAAE,IAAIH,qBAAqB,CAACV,KAAK,KAAK,IAAI,CAACA,KAAK,IAAIU,qBAAqB,CAACI,cAAc,CAACC,KAAK,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,KAAK,IAAI,CAACjB,gBAAgB,EAAC;UACrR,IAAI,IAAI,CAACJ,WAAW,EAAE;YACpB,IAAI,CAACH,MAAM,CAACyB,QAAQ,CAAC,CAAC,mBAAmB,IAAI,CAACnB,EAAE,EAAE,CAAC,EAAE;cAAEoB,UAAU,EAAE,IAAI,CAAC3B;YAAK,CAAE,CAAC;WACjF,MACI;YACH,IAAI,CAACC,MAAM,CAACyB,QAAQ,CAAC,CAAC,eAAe,IAAI,CAACnB,EAAE,EAAE,CAAC,EAAE;cAAEoB,UAAU,EAAE,IAAI,CAAC3B;YAAK,CAAE,CAAC,CAAC,CAAC;;SAEjF,MAAI;UACHc,OAAO,CAACC,GAAG,CAACK,qBAAqB,CAAC;UAElCH,KAAK,CAAC,uBAAuB,CAAC;;MAG9B,CAAC,EACDW,KAAK,IAAG;QACNd,OAAO,CAACC,GAAG,CAACa,KAAK,CAAC;MACpB,CAAC,CACF;;EAKL;CACD;AA1DY9B,iBAAiB,GAAA+B,UAAA,EAP7BhC,SAAS,CAAC;EACTiC,QAAQ,EAAE,eAAe;EACzBC,WAAW,EAAE,4BAA4B;EACzCC,SAAS,EAAE,CAAC,2BAA2B;CACxC,CAAC,C,EAGWlC,iBAAiB,CA0D7B"},"metadata":{},"sourceType":"module","externalDependencies":[]}