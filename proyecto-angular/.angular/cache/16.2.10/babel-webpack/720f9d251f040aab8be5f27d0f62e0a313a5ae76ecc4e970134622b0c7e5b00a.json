{"ast":null,"code":"import * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/router\";\nimport * as i2 from \"../../services/periodo-actualizacion.service\";\nexport let AgregarFechaComponent = /*#__PURE__*/(() => {\n  class AgregarFechaComponent {\n    constructor(router, periodoService) {\n      this.router = router;\n      this.periodoService = periodoService;\n      this.fechaDesde = '';\n      this.fechaHasta = '';\n    }\n    agregarFecha() {\n      if (this.fechaDesde && this.fechaHasta) {\n        //cambiando formato a fecha, para utilizar los metodos\n        const fechaDesdeDate = new Date(this.fechaDesde);\n        const fechaHastaDate = new Date(this.fechaHasta);\n        const añoDesde = fechaDesdeDate.getFullYear();\n        const mesDesde = fechaDesdeDate.getMonth() + 1;\n        const añoHasta = fechaHastaDate.getFullYear();\n        const mesHasta = fechaHastaDate.getMonth() + 1;\n        let semestre;\n        if (mesDesde >= 1 && mesDesde <= 7 && añoDesde === añoHasta && mesHasta >= 1 && mesHasta <= 7) {\n          semestre = 1;\n        } else if (mesDesde >= 8 && mesDesde <= 12 && añoDesde === añoHasta && mesHasta >= 8 && mesHasta <= 12) {\n          semestre = 2;\n        } else {\n          semestre = 0;\n        }\n        const Fch_Inicio = fechaDesdeDate.toISOString();\n        const Fch_Fin = fechaHastaDate.toISOString();\n        let periodoActualizacion = {\n          Año: añoDesde,\n          Semestre: semestre,\n          Fch_Inicio: Fch_Inicio,\n          Fch_Fin: Fch_Fin\n        };\n        this.periodoService.addFecha(periodoActualizacion).subscribe(response => {\n          console.log(response);\n          this.router.navigate(['/indexAdmin/displayFunc']);\n        }, error => {\n          console.log(error);\n          console.log(\"ERROR: \", error.error);\n        });\n      } else {\n        console.log('Fechas inválidas');\n      }\n    }\n    static #_ = this.ɵfac = function AgregarFechaComponent_Factory(t) {\n      return new (t || AgregarFechaComponent)(i0.ɵɵdirectiveInject(i1.Router), i0.ɵɵdirectiveInject(i2.PeriodoActualizacionService));\n    };\n    static #_2 = this.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n      type: AgregarFechaComponent,\n      selectors: [[\"app-agregar-fecha\"]],\n      decls: 22,\n      vars: 2,\n      consts: [[1, \"fondo\"], [1, \"container\"], [1, \"row\", \"justify-content-md-center\"], [1, \"col-6\", \"text-center\"], [\"src\", \"../../assets/ucu.png\", \"alt\", \"\", \"srcset\", \"\"], [1, \"display-5\"], [1, \"col-6\", \"content-form\", \"rounded\", \"shadow\"], [1, \"mb-3\"], [\"for\", \"exampleInputEmail1\", 1, \"form-label\"], [\"type\", \"date\", \"id\", \"exampleInputEmail1\", \"aria-describedby\", \"emailHelp\", \"name\", \"fechaDesde\", 1, \"form-control\", 3, \"ngModel\", \"ngModelChange\"], [\"for\", \"exampleInputPassword1\", 1, \"form-label\"], [\"type\", \"date\", \"id\", \"exampleInputPassword1\", \"name\", \"fechaHasta\", 1, \"form-control\", 3, \"ngModel\", \"ngModelChange\"], [\"type\", \"submit\", 1, \"btn\", \"btn-guardar\", 3, \"click\"]],\n      template: function AgregarFechaComponent_Template(rf, ctx) {\n        if (rf & 1) {\n          i0.ɵɵelementStart(0, \"div\", 0)(1, \"div\", 1)(2, \"div\", 2)(3, \"div\", 3);\n          i0.ɵɵelement(4, \"img\", 4);\n          i0.ɵɵelementEnd()();\n          i0.ɵɵelementStart(5, \"div\", 2)(6, \"div\", 3)(7, \"h1\", 5);\n          i0.ɵɵtext(8, \"Agregar fecha\");\n          i0.ɵɵelementEnd()()();\n          i0.ɵɵelementStart(9, \"div\", 2)(10, \"div\", 6)(11, \"form\")(12, \"div\", 7)(13, \"label\", 8);\n          i0.ɵɵtext(14, \"Fecha desde: \");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(15, \"input\", 9);\n          i0.ɵɵlistener(\"ngModelChange\", function AgregarFechaComponent_Template_input_ngModelChange_15_listener($event) {\n            return ctx.fechaDesde = $event;\n          });\n          i0.ɵɵelementEnd()();\n          i0.ɵɵelementStart(16, \"div\", 7)(17, \"label\", 10);\n          i0.ɵɵtext(18, \"Fecha hasta:\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(19, \"input\", 11);\n          i0.ɵɵlistener(\"ngModelChange\", function AgregarFechaComponent_Template_input_ngModelChange_19_listener($event) {\n            return ctx.fechaHasta = $event;\n          });\n          i0.ɵɵelementEnd()();\n          i0.ɵɵelementStart(20, \"button\", 12);\n          i0.ɵɵlistener(\"click\", function AgregarFechaComponent_Template_button_click_20_listener() {\n            return ctx.agregarFecha();\n          });\n          i0.ɵɵtext(21, \"Guardar\");\n          i0.ɵɵelementEnd()()()()()();\n        }\n        if (rf & 2) {\n          i0.ɵɵadvance(15);\n          i0.ɵɵproperty(\"ngModel\", ctx.fechaDesde);\n          i0.ɵɵadvance(4);\n          i0.ɵɵproperty(\"ngModel\", ctx.fechaHasta);\n        }\n      },\n      styles: [\"@import\\\"https://fonts.googleapis.com/css2?family=Bungee&family=Calistoga&family=Francois+One&family=Patua+One&display=swap\\\";.fondo[_ngcontent-%COMP%]{background-color:#0a3163;background-size:cover;width:100%;height:100%;position:absolute;top:0;left:0}.container[_ngcontent-%COMP%]{margin-top:120px}.content-form[_ngcontent-%COMP%]{background-color:#ffffffbd;padding:15px}h1[_ngcontent-%COMP%]{font-family:Cabin,sans-serif;color:#fff}.btn-guardar[_ngcontent-%COMP%]{background-color:#0a3163;width:100%;color:#fff}.btn-guardar[_ngcontent-%COMP%]:hover{background-color:#07254b}\"]\n    });\n  }\n  return AgregarFechaComponent;\n})();","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}